<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Open Graph Meta Tags for richer social media previews -->
    <meta property="og:title" content="Reflection Bot" />
    <meta
      property="og:description"
      content="Reflection Bot by Flexa Group, Under Construction." />
    <meta
      property="og:image"
      content="https://www.flexagroup.co.uk/assets/logo.png" />
    <meta property="og:url" content="https://flexagroup.co.uk" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:title" content="Reflection Bot" />
    <meta
      name="twitter:description"
      content="Reflection Bot by Flexa Group, Under Construction." />
    <meta
      name="twitter:image"
      content="https://www.flexagroup.co.uk/assets/logo.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="icon" href="assets/logo-favicon.png" type="image/png" />

    <link rel="stylesheet" href="styles.css" />
    <title>Reflection Bot</title>

    <style>
      /* Add a fade-out effect */
      .fade-out {
        opacity: 1;
        transition: opacity 1s ease-out;
      }

      .hidden {
        opacity: 0;
        visibility: hidden;
      }

      .server-btn {
        width: 300px;
        margin-left: 115vh;
        margin-top: 40vh;
        height: auto;
        z-index: 0; /* Default z-index */
        transition: z-index 0s; /* Make sure it doesn't change before video ends */
      }
    </style>
  </head>
  <body>
    <div class="video" id="videoContainer">
      <video
        id="myVideo"
        width="100%"
        height="auto"
        playsinline
        controls
        controlsList="nodownload noplaybackrate novolume nofullscreen"
        disablePictureInPicture>
        <source src="assets/vidcard.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    <div class="button">
      <a
        href="https://mail.google.com/mail/?view=cm&fs=1&to=flexagroupofficial@gmail.com"
        target="_blank">
        <img src="/assets/contact button.jpg" class="contact-btn" />
      </a>
      <a href="https://discord.gg/U2tQA7UVeY" target="_blank"
        ><img src="/assets/add button.jpg" class="add-btn"
      /></a>
    </div>

    <a href="https://discord.gg/U2tQA7UVeY" target="_blank"
      ><img src="/assets/join server button.jpeg" class="server-btn"
    /></a>

    <script>
      var video = document.getElementById("myVideo");
      var videoContainer = document.getElementById("videoContainer");
      var serverBtn = document.querySelector(".server-btn");
      var playCount = 0; // Track number of times video ends

      // Autoplay the video when the page loads
      window.onload = function () {
        video.play();
      };

      // Loop once and stop after the second playback
      video.onended = function () {
        playCount++;
        if (playCount < 1) {
          video.play(); // Replay the video for the second time
        } else {
          // After the second play, wait for 5 seconds, then fade and hide the video
          setTimeout(function () {
            // Apply fade-out effect
            videoContainer.classList.add("fade-out");
            setTimeout(function () {
              videoContainer.classList.add("hidden"); // Completely hide the video container after fading
              serverBtn.style.zIndex = "1000"; // Bring the server button on top
            }, 1000); // Wait for the fade transition to complete
          }, 1000); // Wait 5 seconds before starting the fade-out
        }
      };
    </script>
  </body>
</html>
